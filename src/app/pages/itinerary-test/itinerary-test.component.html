<div class="itinerary-form-container">
  <mat-card class="itinerary-card">
    <mat-card-header>
      <mat-card-title>Plan Your Next Adventure</mat-card-title>
      <mat-card-subtitle>Configure your preferences to generate a custom schedule</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="form-row">
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Destination City</mat-label>
          <mat-select [(ngModel)]="city">
            <mat-option *ngFor="let c of availableCities" [value]="c.id">
              {{ c.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Number of Days</mat-label>
          <input matInput type="number" [(ngModel)]="days" min="1" max="30">
        </mat-form-field>
      </div>

      <div class="interests-container">
        <p class="section-label">Interests</p>
        <div class="interests-grid">
          <mat-checkbox *ngFor="let cat of availableCategories" 
                        [(ngModel)]="cat.selected"
                        (change)="updateCategories(cat)">
            {{ cat.name }}
          </mat-checkbox>
        </div>
      </div>

      <div class="budget-container">
        <p>Daily Budget: <strong>${{ maxDailyBudget }}</strong></p>
        
        <mat-slider
          min="10"
          max="100"
          step="5"
          discrete
          color="primary"
          [(ngModel)]="maxDailyBudget">
        </mat-slider>

        <p class="total-hint">
          Total for {{ days }} days: <strong>${{ totalBudget }}</strong>
        </p>
      </div>
    </mat-card-content>

    <mat-card-actions align="end">
      <span class="status-text" [attr.data-status]="status">{{ status }}</span>
      <button mat-flat-button color="primary" 
              (click)="runTest()" 
              [disabled]="status === 'Generating...'">
        {{ status === 'Generating...' ? 'Creating...' : 'Generate Itinerary' }}
      </button>
    </mat-card-actions>
  </mat-card>
</div>